(function(G,l){var L=G.fullCalendar={};var e=L.views={};var I={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var b={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var R=L.setDefaults=function(ak){G.extend(true,I,ak)};G.fn.fullCalendar=function(an){if(typeof an=="string"){var am=Array.prototype.slice.call(arguments,1),ao;this.each(function(){var ar=G.data(this,"fullCalendar");if(ar){var ap=ar[an];if(ap){var aq=ap.apply(this,am);if(ao===l){ao=aq}}}});if(ao!==l){return ao}return this}var al=an.eventSources||[];delete an.eventSources;if(an.events){al.push(an.events);delete an.events}al.unshift([]);an=G.extend(true,{},I,(an.isRTL||an.isRTL===l&&I.isRTL)?b:{},an);var ak=an.theme?"ui":"fc";this.each(function(){var aR=this,aG=G(aR).addClass("fc"),aK,aB=G("<div class='fc-content "+ak+"-widget-content' style='position:relative'/>").prependTo(aR),av,aM=0,aS=0,aX=new Date(),az,aq,a0={},aA;if(an.isRTL){aG.addClass("fc-rtl")}if(an.theme){aG.addClass("ui-widget")}i(aX,an.year,an.month,an.date);function ax(a4){if(a4!=az){aS++;aV();var a5=aq,a3;if(a5){if(a5.eventsChanged){ap();a5.eventDirty=a5.eventsChanged=false}if(a5.beforeHide){a5.beforeHide()}ai(aB,aB.height());a5.element.hide()}else{ai(aB,1)}aB.css("overflow","hidden");if(a0[a4]){(aq=a0[a4]).element.show()}else{aq=a0[a4]=L.views[a4](a3=aA=G("<div class='fc-view fc-view-"+a4+"' style='position:absolute'/>").appendTo(aB),an,a4)}if(at){at.find("div.fc-button-"+az).removeClass(ak+"-state-active");at.find("div.fc-button-"+a4).addClass(ak+"-state-active")}az=a4;aL();aB.css("overflow","");if(a5){ai(aB,1)}if(!a3&&aq.afterShow){aq.afterShow()}aS--}}function aL(a4){if(aP()){aS++;aV();if(av===l){aN()}if(!aq.start||a4||aX<aq.start||aX>=aq.end){aq.render(aX,a4||0);aQ(true);if(!aJ||!an.lazyFetching||aq.visStart<aJ||aq.visEnd>aY){aO()}else{aq.renderEvents(aI)}}else{if(aq.sizeDirty||aq.eventsDirty||!an.lazyFetching){aq.clearEvents();if(aq.sizeDirty){aQ()}if(an.lazyFetching){aq.renderEvents(aI)}else{aO()}}}aK=aG.outerWidth();aq.sizeDirty=false;aq.eventsDirty=false;if(at){at.find("h2.fc-header-title").html(aq.title);var a3=new Date();if(a3>=aq.start&&a3<aq.end){at.find("div.fc-button-today").addClass(ak+"-state-disabled")}else{at.find("div.fc-button-today").removeClass(ak+"-state-disabled")}}aS--;aq.trigger("viewDisplay",aR)}}function aP(){return aR.offsetWidth!==0}function aE(){return G("body")[0].offsetWidth!==0}function aV(){if(aq){aq.unselect()}}function aD(){ap();if(aP()){aq.clearEvents();aq.renderEvents(aI);aq.eventsDirty=false}}function ap(){G.each(a0,function(){this.eventsDirty=true})}function aH(){a1();if(aP()){aN();aQ();aV();aq.rerenderEvents();aq.sizeDirty=false}}function a1(){G.each(a0,function(){this.sizeDirty=true})}var aI=[],aJ,aY;function aZ(a6){aI=[];aJ=W(aq.visStart);aY=W(aq.visEnd);var a5=al.length,a3=function(){if(!--a5){if(a6){a6(aI)}}},a4=0;for(;a4<al.length;a4++){aF(al[a4],a3)}}function aF(a8,a9){var a4=aq.name,a7=W(aX),a6=function(ba){if(a4==aq.name&&+a7==+aX&&G.inArray(a8,al)!=-1){for(var bb=0;bb<ba.length;bb++){E(ba[bb],an);ba[bb].source=a8}aI=aI.concat(ba);if(a9){a9(ba)}}},a3=function(ba){a6(ba);au()};if(typeof a8=="string"){var a5={};a5[an.startParam]=Math.round(aJ.getTime()/1000);a5[an.endParam]=Math.round(aY.getTime()/1000);if(an.cacheParam){a5[an.cacheParam]=(new Date()).getTime()}ay();G.ajax({url:a8,dataType:"json",data:a5,cache:an.cacheParam||false,success:a3})}else{if(G.isFunction(a8)){ay();a8(W(aJ),W(aY),a3)}else{a6(a8)}}}function aO(){aZ(function(a3){aq.renderEvents(a3)})}var a2=0;function ay(){if(!a2++){aq.trigger("loading",aR,true)}}function au(){if(!--a2){aq.trigger("loading",aR,false)}}var aU={render:function(){aN();a1();ap();aL()},changeView:ax,getView:function(){return aq},getDate:function(){return aX},option:function(a3,a4){if(a4===l){return an[a3]}if(a3=="height"||a3=="contentHeight"||a3=="aspectRatio"){an[a3]=a4;aH()}},destroy:function(){G(window).unbind("resize",aC);if(at){at.remove()}aB.remove();G.removeData(aR,"fullCalendar")},prev:function(){aL(-1)},next:function(){aL(1)},prevYear:function(){ag(aX,-1);aL()},nextYear:function(){ag(aX,1);aL()},today:function(){aX=new Date();aL()},gotoDate:function(a3,a5,a4){if(typeof a3=="object"){aX=W(a3)}else{i(aX,a3,a5,a4)}aL()},incrementDate:function(a4,a3,a5){if(a4!==l){ag(aX,a4)}if(a3!==l){o(aX,a3)}if(a5!==l){z(aX,a5)}aL()},updateEvent:function(a7){var a5,a3=aI.length,a8,a6=a7.start-a7._start,a4=a7.end?(a7.end-(a7._end||aq.defaultEventEnd(a7))):0;for(a5=0;a5<a3;a5++){a8=aI[a5];if(a8._id==a7._id&&a8!=a7){a8.start=new Date(+a8.start+a6);if(a7.end){if(a8.end){a8.end=new Date(+a8.end+a4)}else{a8.end=new Date(+aq.defaultEventEnd(a8)+a4)}}else{a8.end=null}a8.title=a7.title;a8.url=a7.url;a8.allDay=a7.allDay;a8.className=a7.className;a8.editable=a7.editable;E(a8,an)}}E(a7,an);aD()},renderEvent:function(a4,a3){E(a4,an);if(!a4.source){if(a3){(a4.source=al[0]).push(a4)}aI.push(a4)}aD()},removeEvents:function(a4){if(!a4){aI=[];for(var a3=0;a3<al.length;a3++){if(typeof al[a3]=="object"){al[a3]=[]}}}else{if(!G.isFunction(a4)){var a5=a4+"";a4=function(a6){return a6._id==a5}}aI=G.grep(aI,a4,true);for(var a3=0;a3<al.length;a3++){if(typeof al[a3]=="object"){al[a3]=G.grep(al[a3],a4,true)}}}aD()},clientEvents:function(a3){if(G.isFunction(a3)){return G.grep(aI,a3)}else{if(a3){a3+="";return G.grep(aI,function(a4){return a4._id==a3})}}return aI},rerenderEvents:aD,addEventSource:function(a3){al.push(a3);aF(a3,aD)},removeEventSource:function(a3){al=G.grep(al,function(a4){return a4!=a3});aI=G.grep(aI,function(a4){return a4.source!=a3});aD()},refetchEvents:function(){aZ(aD)},select:function(a5,a3,a4){aq.select(a5,a3,a4===l?true:a4)},unselect:function(){aq.unselect()}};G.data(this,"fullCalendar",aU);var at,aT=an.header;if(aT){at=G("<table class='fc-header'/>").append(G("<tr/>").append(G("<td class='fc-header-left'/>").append(aW(aT.left))).append(G("<td class='fc-header-center'/>").append(aW(aT.center))).append(G("<td class='fc-header-right'/>").append(aW(aT.right)))).prependTo(aG)}function aW(a3){if(a3){var a4=G("<tr/>");G.each(a3.split(" "),function(a6){if(a6>0){a4.append("<td><span class='fc-header-space'/></td>")}var a5;G.each(this.split(","),function(a9,a8){if(a8=="title"){a4.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");if(a5){a5.addClass(ak+"-corner-right")}a5=null}else{var a7;if(aU[a8]){a7=aU[a8]}else{if(e[a8]){a7=function(){ba.removeClass(ak+"-state-hover");ax(a8)}}}if(a7){if(a5){a5.addClass(ak+"-no-right")}var ba,bb=an.theme?h(an.buttonIcons,a8):null,bc=h(an.buttonText,a8);if(bb){ba=G("<div class='fc-button-"+a8+" ui-state-default'><a><span class='ui-icon ui-icon-"+bb+"'/></a></div>")}else{if(bc){ba=G("<div class='fc-button-"+a8+" "+ak+"-state-default'><a><span>"+bc+"</span></a></div>")}}if(ba){ba.click(function(){if(!ba.hasClass(ak+"-state-disabled")){a7()}}).mousedown(function(){ba.not("."+ak+"-state-active").not("."+ak+"-state-disabled").addClass(ak+"-state-down")}).mouseup(function(){ba.removeClass(ak+"-state-down")}).hover(function(){ba.not("."+ak+"-state-active").not("."+ak+"-state-disabled").addClass(ak+"-state-hover")},function(){ba.removeClass(ak+"-state-hover").removeClass(ak+"-state-down")}).appendTo(G("<td/>").appendTo(a4));if(a5){a5.addClass(ak+"-no-right")}else{ba.addClass(ak+"-corner-left")}a5=ba}}}});if(a5){a5.addClass(ak+"-corner-right")}});return G("<table/>").append(a4)}}function aN(){if(an.contentHeight){av=an.contentHeight}else{if(an.height){av=an.height-(at?at.height():0)-S(aB[0])}else{av=Math.round(aB.width()/Math.max(an.aspectRatio,0.5))}}}function aQ(a3){aS++;aq.setHeight(av,a3);if(aA){aA.css("position","relative");aA=null}aq.setWidth(aB.width(),a3);aS--}function aC(){if(!aS){if(aq.start){var a3=++aM;setTimeout(function(){if(a3==aM&&!aS&&aP()){if(aK!=(aK=aG.outerWidth())){aS++;aH();aq.trigger("windowResize",aR);aS--}}},200)}else{aw()}}}G(window).resize(aC);if(an.droppable){var ar;G(document).bind("dragstart",function(a5,a6){var a3=a5.target;var a7=G(a3);if(!a7.parents(".fc").length){var a4=an.dropAccept;if(G.isFunction(a4)?a4.call(a3,a7):a7.is(a4)){ar=a3;aq.dragStart(ar,a5,a6)}}}).bind("dragstop",function(a3,a4){if(ar){aq.dragStop(ar,a3,a4);ar=null}})}ax(an.defaultView);if(!aE()){aw()}function aw(){setTimeout(function(){if(!aq.start&&aE()){aL()}},0)}});return this};var U=0;function E(al,ak){al._id=al._id||(al.id===l?"_fc"+U++:al.id+"");if(al.date){if(!al.start){al.start=al.date}delete al.date}al._start=W(al.start=f(al.start));al.end=f(al.end);if(al.end&&al.end<=al.start){al.end=null}al._end=al.end?W(al.end):null;if(al.allDay===l){al.allDay=ak.allDayDefault}if(al.className){if(typeof al.className=="string"){al.className=al.className.split(/\s+/)}}else{al.className=[]}}R({weekMode:"fixed"});e.month=function(al,ak,am){return new H(al,ak,{render:function(ap,au){if(au){o(ap,au);ap.setDate(1)}var at=this.start=W(ap,true);at.setDate(1);this.end=o(W(at),1);var ao=this.visStart=W(at),an=this.visEnd=W(this.end),aq=ak.weekends?0:1;if(aq){ah(ao);ah(an,-1,true)}z(ao,-((ao.getDay()-Math.max(ak.firstDay,aq)+7)%7));z(an,(7-an.getDay()+Math.max(ak.firstDay,aq))%7);var ar=Math.round((an-ao)/(Y*7));if(ak.weekMode=="fixed"){z(an,(6-ar)*7);ar=6}this.title=Q(at,this.option("titleFormat"),ak);this.renderGrid(ar,ak.weekends?7:5,this.option("columnFormat"),true)}},am)};e.basicWeek=function(al,ak,am){return new H(al,ak,{render:function(ap,aq){if(aq){z(ap,aq*7)}var ao=this.visStart=W(this.start=z(W(ap),-((ap.getDay()-ak.firstDay+7)%7))),an=this.visEnd=W(this.end=z(W(ao),7));if(!ak.weekends){ah(ao);ah(an,-1,true)}this.title=u(ao,z(W(an),-1),this.option("titleFormat"),ak);this.renderGrid(1,ak.weekends?7:5,this.option("columnFormat"),false)}},am)};e.basicDay=function(al,ak,am){return new H(al,ak,{render:function(an,ao){if(ao){z(an,ao);if(!ak.weekends){ah(an,ao<0?-1:1)}}this.title=Q(an,this.option("titleFormat"),ak);this.start=this.visStart=W(an,true);this.end=this.visEnd=z(W(this.start),1);this.renderGrid(1,1,this.option("columnFormat"),false)}},am)};var J;function H(ax,aE,aO,au){var a1,aA,ay,aS,aZ,aX,aW,a0,aC,at,aF,aI,aQ,aP=[],az,aL=new N(function(a2){return aQ.find("td:eq("+((a2-Math.max(aA,ay)+at)%at)+") div div")}),al=G.extend(this,k,aO,{renderGrid:ao,renderEvents:ap,rerenderEvents:am,clearEvents:aJ,setHeight:aR,setWidth:aU,defaultEventEnd:function(a2){return W(a2.start)}});al.name=au;al.init(ax,aE);F(ax.addClass("fc-grid"));function ao(a2,a8,a5,ba){aC=a2;at=a8;a1=aE.theme?"ui":"fc";ay=aE.weekends?0:1;aA=aE.firstDay;if(aS=aE.isRTL){aZ=-1;aX=at-1}else{aZ=1;aX=0}var a6=al.start.getMonth(),a9=w(new Date()),bd,a4,a3,a7=W(al.visStart);if(!aQ){var bc=G("<table/>").appendTo(ax);bd="<thead><tr>";for(a4=0;a4<at;a4++){bd+="<th class='fc-"+ac[a7.getDay()]+" "+a1+"-state-default"+(a4==aX?" fc-leftmost":"")+"'>"+Q(a7,a5,aE)+"</th>";z(a7,1);if(ay){ah(a7)}}aI=G(bd+"</tr></thead>").appendTo(bc);bd="<tbody>";a7=W(al.visStart);for(a4=0;a4<aC;a4++){bd+="<tr class='fc-week"+a4+"'>";for(a3=0;a3<at;a3++){bd+="<td class='fc-"+ac[a7.getDay()]+" "+a1+"-state-default fc-day"+(a4*at+a3)+(a3==aX?" fc-leftmost":"")+(aC>1&&a7.getMonth()!=a6?" fc-other-month":"")+(+a7==+a9?" fc-today "+a1+"-state-highlight":" fc-not-today")+"'>"+(ba?"<div class='fc-day-number'>"+a7.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";z(a7,1);if(ay){ah(a7)}}bd+="</tr>"}aQ=G(bd+"</tbody>").appendTo(bc);ar(aQ.find("td"));az=G("<div style='position:absolute;z-index:1;top:0;left:0'/>").appendTo(ax)}else{aJ();var bb=aQ.find("tr").length;if(aC<bb){aQ.find("tr:gt("+(aC-1)+")").remove()}else{if(aC>bb){bd="";for(a4=bb;a4<aC;a4++){bd+="<tr class='fc-week"+a4+"'>";for(a3=0;a3<at;a3++){bd+="<td class='fc-"+ac[a7.getDay()]+" "+a1+"-state-default fc-new fc-day"+(a4*at+a3)+(a3==aX?" fc-leftmost":"")+"'>"+(ba?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";z(a7,1);if(ay){ah(a7)}}bd+="</tr>"}aQ.append(bd)}}ar(aQ.find("td.fc-new").removeClass("fc-new"));a7=W(al.visStart);aQ.find("td").each(function(){var be=G(this);if(aC>1){if(a7.getMonth()==a6){be.removeClass("fc-other-month")}else{be.addClass("fc-other-month")}}if(+a7==+a9){be.removeClass("fc-not-today").addClass("fc-today").addClass(a1+"-state-highlight")}else{be.addClass("fc-not-today").removeClass("fc-today").removeClass(a1+"-state-highlight")}be.find("div.fc-day-number").text(a7.getDate());z(a7,1);if(ay){ah(a7)}});if(aC==1){a7=W(al.visStart);aI.find("th").each(function(){G(this).text(Q(a7,a5,aE));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+ac[a7.getDay()]);z(a7,1);if(ay){ah(a7)}});a7=W(al.visStart);aQ.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+ac[a7.getDay()]);z(a7,1);if(ay){ah(a7)}})}}}function aR(a2){a0=a2;var a3=aQ.find("tr td:first-child"),a8=a0-aI.height(),a6,a5;if(aE.weekMode=="variable"){a6=a5=Math.floor(a8/(aC==1?2:6))}else{a6=Math.floor(a8/aC);a5=a8-a6*(aC-1)}if(J===l){var a4=aQ.find("tr:first"),a7=a4.find("td:first");a7.height(a6);J=a6!=a7.height()}if(J){a3.slice(0,-1).height(a6);a3.slice(-1).height(a5)}else{g(a3.slice(0,-1),a6);g(a3.slice(-1),a5)}}function aU(a2){aW=a2;aL.clear();ad(aI.find("th").slice(0,-1),aF=Math.floor(aW/at))}function ap(a2){al.reportEvents(aP=a2);ak(aB(a2))}function am(a2){aJ();ak(aB(aP),a2)}function aJ(){al._clearEvents();az.empty()}function aB(bb){var a4=W(al.visStart),a2=z(W(a4),at),ba=G.map(bb,Z),a9,bc,a8,a3,a6,a7,a5=[];for(a9=0;a9<aC;a9++){bc=K(al.sliceSegs(bb,ba,a4,a2));for(a8=0;a8<bc.length;a8++){a3=bc[a8];for(a6=0;a6<a3.length;a6++){a7=a3[a6];a7.row=a9;a7.level=a8;a5.push(a7)}}z(a4,7);z(a2,7)}return a5}function ak(a2,a3){c(a2,aC,al,0,aW,function(a4){return aQ.find("tr:eq("+a4+")")},aL.left,aL.right,az,an,a3)}function an(a4,a3,a2){al.eventElementHandlers(a4,a3);if(a4.editable||a4.editable===l&&aE.editable){aM(a4,a3);if(a2.isEnd){al.resizableDayEvent(a4,a3,aF)}}}function aM(a4,a3){if(!aE.disableDragging&&a3.draggable){var a2;a3.draggable({zIndex:9,delay:50,opacity:al.option("dragOpacity"),revertDuration:aE.dragRevertDuration,start:function(a5,a6){al.trigger("eventDragStart",a3,a4,a5,a6);al.hideEvents(a4,a3);aq.start(function(a8,a7,a9,ba){a3.draggable("option","revert",!a8||!a9&&!ba);aG();if(a8){a2=a9*7+ba*aZ;aK(z(W(a4.start),a2),z(Z(a4),a2))}else{a2=0}},a5,"drag")},stop:function(a5,a6){aq.stop();aG();al.trigger("eventDragStop",a3,a4,a5,a6);if(a2){a3.find("a").removeAttr("href");al.eventDrop(this,a4,a2,0,a4.allDay,a5,a6)}else{if(G.browser.msie){a3.css("filter","")}al.showEvents(a4,a3)}}})}}function ar(a2){a2.click(aV).mousedown(aN)}function aV(a3){if(!al.option("selectable")){var a4=parseInt(this.className.match(/fc\-day(\d+)/)[1]),a2=z(W(al.visStart),Math.floor(a4/at)*7+a4%at);al.trigger("dayClick",this,a2,true,a3)}}var aT=new x(function(a3,a6){var a5,a7,a4;var a2=aQ.find("tr:first td");if(aS){a2=G(a2.get().reverse())}a2.each(function(a9,a8){a5=G(a8);a7=a5.offset().left;if(a9){a4[1]=a7}a4=[a7];a6[a9]=a4});a4[1]=a7+a5.outerWidth();aQ.find("tr").each(function(a9,a8){a5=G(a8);a7=a5.offset().top;if(a9){a4[1]=a7}a4=[a7];a3[a9]=a4});a4[1]=a7+a5.outerHeight()});var aq=new M(aT);var aH=false;var aN=V(al,aq,aY,function(){return true},aK,aG,av,aw);al.select=function(a2,a4,a3){aT.build();aw();if(!a4){a4=W(a2)}aK(a2,z(W(a4),1));av(a2,a4,a3)};function av(a2,a5,a4,a3){aH=true;al.trigger("select",al,a2,a5,a4,a3)}function aw(a2){if(aH){aG();aH=false;al.trigger("unselect",al,a2)}}al.unselect=aw;aa(al,aw);al.dragStart=function(a4,a2,a3){aq.start(function(a5){aG();if(a5){aD(a5.row,a5.col,a5.row,a5.col)}},a2)};al.dragStop=function(a6,a3,a4){var a2=aq.stop();aG();if(a2){var a5=aY(a2);al.trigger("drop",a6,a5,true,a3,a4)}};function aK(a6,ba){var a2=W(al.visStart);var a7=z(W(a2),at);for(var a4=0;a4<aC;a4++){var a5=new Date(Math.max(a2,a6));var a9=new Date(Math.min(a7,ba));if(a5<a9){var a3,a8;if(aS){a3=D(a9,a2)*aZ+aX+1;a8=D(a5,a2)*aZ+aX+1}else{a3=D(a5,a2);a8=D(a9,a2)}ar(aD(a4,a3,a4,a8-1))}z(a2,7);z(a7,7)}}function aD(a5,a6,a3,a4){var a2=aT.rect(a5,a6,a3,a4,ax);return al.renderOverlay(a2,ax)}function aG(){al.clearOverlays()}function aY(a2){return z(W(al.visStart),a2.row*7+a2.col*aZ+aX)}}function c(aA,at,ax,aC,aG,aI,az,aS,ao,aO,aB){var an=ax.options,ar=an.isRTL,aE,aL=aA.length,aJ,aD,am,aq,aN,aw="",aM,aF,au,aR={},ak={},aQ,aP,av,ay,ap,aK,al=[],aH=[];for(aE=0;aE<aL;aE++){aJ=aA[aE];aD=aJ.event;am="fc-event fc-event-hori ";if(ar){if(aJ.isStart){am+="fc-corner-right "}if(aJ.isEnd){am+="fc-corner-left "}aq=aJ.isEnd?az(aJ.end.getDay()-1):aC;aN=aJ.isStart?aS(aJ.start.getDay()):aG}else{if(aJ.isStart){am+="fc-corner-left "}if(aJ.isEnd){am+="fc-corner-right "}aq=aJ.isStart?az(aJ.start.getDay()):aC;aN=aJ.isEnd?aS(aJ.end.getDay()-1):aG}aw+="<div class='"+am+aD.className.join(" ")+"' style='position:absolute;left:"+aq+"px' rel='"+aD.id+"'><a"+(aD.url?" href='"+O(aD.url)+"'":"")+">"+(!aD.allDay&&aJ.isStart?"<span class='fc-event-time'>"+O(u(aD.start,aD.end,ax.option("timeFormat"),an))+"</span>":"")+"<span class='fc-event-title'>"+O(aD.title)+"</span></a>"+((aD.editable||aD.editable===l&&an.editable)&&!an.disableResizing&&G.fn.resizable?"<div class='ui-resizable-handle ui-resizable-"+(ar?"w":"e")+"'></div>":"")+"<div class='fc-event-description'><span class='bubble'><span class='time'>"+central_eventCalendar.getEventTime(aD.start)+"</span>"+O(aD.description)+"</span></div></div>";aJ.left=aq;aJ.outerWidth=aN-aq}ao[0].innerHTML=aw;aM=ao.children();for(aE=0;aE<aL;aE++){aJ=aA[aE];aF=G(aM[aE]);aD=aJ.event;au=ax.trigger("eventRender",aD,aD,aF);if(au===false){aF.remove()}else{if(au&&au!==true){aF.remove();aF=G(au).css({position:"absolute",left:aJ.left}).appendTo(ao)}aJ.element=aF;if(aD._id===aB){aO(aD,aF,aJ)}else{aF[0]._fci=aE}ax.reportEventElement(aD,aF)}}ab(ao,aA,aO);for(aE=0;aE<aL;aE++){aJ=aA[aE];if(aF=aJ.element){aP=aR[aQ=aJ.key=af(aF[0])];aJ.hsides=aP===l?(aR[aQ]=C(aF[0],true)):aP}}for(aE=0;aE<aL;aE++){aJ=aA[aE];if(aF=aJ.element){aF[0].style.width=aJ.outerWidth-aJ.hsides+"px"}}for(aE=0;aE<aL;aE++){aJ=aA[aE];if(aF=aJ.element){aP=ak[aQ=aJ.key];aJ.outerHeight=aF[0].offsetHeight+(aP===l?(ak[aQ]=t(aF[0])):aP)}}for(aE=0,av=0;av<at;av++){ay=ap=aK=0;while(aE<aL&&(aJ=aA[aE]).row==av){if(aJ.level!=ap){ay+=aK;aK=0;ap++}aK=Math.max(aK,aJ.outerHeight||0);aJ.top=ay;aE++}al[av]=aI(av).find("td:first div.fc-day-content > div").height(ay+aK)}for(av=0;av<at;av++){aH[av]=al[av][0].offsetTop}for(aE=0;aE<aL;aE++){aJ=aA[aE];if(aF=aJ.element){aF[0].style.top=aH[aJ.row]+aJ.top+"px";aD=aJ.event;ax.trigger("eventAfterRender",aD,aD,aF)}}}R({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});e.agendaWeek=function(al,ak,am){return new v(al,ak,{render:function(ap,aq){if(aq){z(ap,aq*7)}var ao=this.visStart=W(this.start=z(W(ap),-((ap.getDay()-ak.firstDay+7)%7))),an=this.visEnd=W(this.end=z(W(ao),7));if(!ak.weekends){ah(ao);ah(an,-1,true)}this.title=u(ao,z(W(an),-1),this.option("titleFormat"),ak);this.renderAgenda(ak.weekends?7:5,this.option("columnFormat"))}},am)};e.agendaDay=function(al,ak,am){return new v(al,ak,{render:function(an,ao){if(ao){z(an,ao);if(!ak.weekends){ah(an,ao<0?-1:1)}}this.title=Q(an,this.option("titleFormat"),ak);this.start=this.visStart=W(an,true);this.end=this.visEnd=z(W(this.start),1);this.renderAgenda(1,this.option("columnFormat"))}},am)};function v(aK,aW,a7,az){var aJ,aU,ar,aM,bo,ay,aR=0,aq,aY,aP,bm,br,a8,a9=[],aD,aC,bt,aT,aO,bf,bq,bn,a6,am,bj=new N(function(bg){return bo.find("td:eq("+bg+") div div")}),aH={},ao=G.extend(this,k,a7,{renderAgenda:a4,renderEvents:au,rerenderEvents:ap,clearEvents:a1,setHeight:bc,setWidth:bk,beforeHide:function(){a8=aU.scrollTop()},afterShow:function(){aU.scrollTop(a8)},defaultEventEnd:function(bg){var bu=W(bg.start);if(bg.allDay){return bu}return n(bu,aW.defaultEventMinutes)}});ao.name=az;ao.init(aK,aW);F(aK.addClass("fc-agenda"));function a4(bz,bw){ay=bz;bt=aW.theme?"ui":"fc";aO=aW.weekends?0:1;aT=aW.firstDay;if(bf=aW.isRTL){bq=-1;bn=ay-1}else{bq=1;bn=0}a6=a(aW.minTime);am=a(aW.maxTime);var bg=bf?z(W(ao.visEnd),-1):W(ao.visStart),by=W(bg),bB=w(new Date());if(!aJ){var bv,bu,bA=aW.slotMinutes%15==0,bC="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(aW.allDaySlot?"":" fc-last")+"'><th class='fc-leftmost "+bt+"-state-default'>&nbsp;</th>";for(bv=0;bv<ay;bv++){bC+="<th class='fc-"+ac[by.getDay()]+" "+bt+"-state-default'>"+Q(by,bw,aW)+"</th>";z(by,bq);if(aO){ah(by,bq)}}bC+="<th class='"+bt+"-state-default'>&nbsp;</th></tr>";if(aW.allDaySlot){bC+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+bt+"-state-default'>"+aW.allDayText+"</th><td colspan='"+ay+"' class='"+bt+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+bt+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(ay+2)+"' class='"+bt+"-state-default fc-leftmost'><div/></th></tr>"}bC+="</table></div>";aJ=G(bC).appendTo(aK);ax(aJ.find("td"));aD=G("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aJ);by=d();var bx=n(W(by),am);n(by,a6);bC="<table>";for(bv=0;by<bx;bv++){bu=by.getMinutes();bC+="<tr class='"+(!bv?"fc-first":(!bu?"":"fc-minor"))+"'><th class='fc-axis fc-leftmost "+bt+"-state-default'>"+((!bA||!bu)?Q(by,aW.axisFormat):"&nbsp;")+"</th><td class='fc-slot"+bv+" "+bt+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";n(by,aW.slotMinutes);aR++}bC+="</table>";aU=G("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(ar=G("<div style='position:relative;overflow:hidden'>").append(aM=G(bC))).appendTo(aK);be(aU.find("td"));aC=G("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ar);by=W(bg);bC="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(bv=0;bv<ay;bv++){bC+="<td class='fc-"+ac[by.getDay()]+" "+bt+"-state-default "+(!bv?"fc-leftmost ":"")+(+by==+bB?bt+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";z(by,bq);if(aO){ah(by,bq)}}bC+="</tr></table></div>";bo=G(bC).appendTo(aK)}else{a1();aJ.find("tr:first th").slice(1,-1).each(function(){G(this).text(Q(by,bw,aW));this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+ac[by.getDay()]);z(by,bq);if(aO){ah(by,bq)}});by=W(bg);bo.find("td").each(function(){this.className=this.className.replace(/^fc-\w+(?= )/,"fc-"+ac[by.getDay()]);if(+by==+bB){G(this).removeClass("fc-not-today").addClass("fc-today").addClass(bt+"-state-highlight")}else{G(this).addClass("fc-not-today").removeClass("fc-today").removeClass(bt+"-state-highlight")}z(by,bq);if(aO){ah(by,bq)}})}}function aG(){var bw=d(),bu=W(bw);bu.setHours(aW.firstHour);var bv=aF(bw,bu)+1,bg=function(){aU.scrollTop(bv)};bg();setTimeout(bg,0)}function bc(bg,bu){br=bg;aH={};aU.height(bg-aJ.height());aP=aU.find("tr:first div").height()+1;bo.css({top:aJ.find("tr").height(),height:bg});if(bu){aG()}}function bk(bg){bm=bg;bj.clear();aU.width(bg);aM.width("");var bw=aJ.find("tr:first th"),bu=bo.find("td"),bv=aU[0].clientWidth;aM.width(bv);aq=0;ad(aJ.find("tr:lt(2) th:first").add(aU.find("tr:first th")).width("").each(function(){aq=Math.max(aq,G(this).outerWidth())}),aq);aY=Math.floor((bv-aq)/ay);ad(bu.slice(0,-1),aY);ad(bw.slice(1,-2),aY);ad(bw.slice(-2,-1),bv-aq-aY*(ay-1));bo.css({left:aq,width:bv-aq})}function ax(bg){bg.click(al).mousedown(bb)}function be(bg){bg.click(al).mousedown(at)}function al(bx){if(!ao.option("selectable")){var bv=Math.min(ay-1,Math.floor((bx.pageX-bo.offset().left)/aY)),bu=z(W(ao.visStart),bv*bq+bn),by=this.className.match(/fc-slot(\d+)/);if(by){var bw=parseInt(by[1])*aW.slotMinutes,bg=Math.floor(bw/60);bu.setHours(bg);bu.setMinutes(bw%60+a6);ao.trigger("dayClick",this,bu,false,bx)}else{ao.trigger("dayClick",this,bu,true,bx)}}}function au(bx,bv){ao.reportEvents(a9=bx);var bw,bu=bx.length,by=[],bg=[];for(bw=0;bw<bu;bw++){if(bx[bw].allDay){by.push(bx[bw])}else{bg.push(bx[bw])}}bd(an(by),bv);aI(aS(bg),bv)}function ap(bg){a1();au(a9,bg)}function a1(){ao._clearEvents();aD.empty();aC.empty()}function an(bx){var bz=K(ao.sliceSegs(bx,G.map(bx,Z),ao.visStart,ao.visEnd)),bw,by=bz.length,bA,bv,bu,bg=[];for(bw=0;bw<by;bw++){bA=bz[bw];for(bv=0;bv<bA.length;bv++){bu=bA[bv];bu.row=0;bu.level=bw;bg.push(bu)}}return bg}function aS(bC){var bB=n(W(ao.visStart),a6),bz=G.map(bC,bs),bA,bv,by,bg,bw,bx,bu=[];for(bA=0;bA<ay;bA++){bv=K(ao.sliceSegs(bC,bz,bB,n(W(bB),am-a6)));P(bv);for(by=0;by<bv.length;by++){bg=bv[by];for(bw=0;bw<bg.length;bw++){bx=bg[bw];bx.col=bA;bx.level=by;bu.push(bx)}}z(bB,1,true)}return bu}function bd(bg,bu){if(aW.allDaySlot){c(bg,1,ao,aq,bm,function(){return aJ.find("tr.fc-all-day")},function(bv){return aq+bj.left(aX(bv))},function(bv){return aq+bj.right(aX(bv))},aD,ba,bu);bc(br)}}function aI(bG,bH){var bL,bO=bG.length,bN,bJ,bu,bE,bB,bA,bw,bC,bz,bI,bg,bx,bD="",bP,bM,by,bv={},bS={},bR,bQ,bK,bF;for(bL=0;bL<bO;bL++){bN=bG[bL];bJ=bN.event;bu="fc-event fc-event-vert ";if(bN.isStart){bu+="fc-corner-top "}if(bN.isEnd){bu+="fc-corner-bottom "}bE=aF(bN.start,bN.start);bB=aF(bN.start,bN.end);bA=bN.col;bw=bN.level;bC=bN.forward||0;bz=aq+bj.left(bA*bq+bn);bI=aq+bj.right(bA*bq+bn)-bz;bI=Math.min(bI-6,bI*0.95);if(bw){bg=bI/(bw+bC+1)}else{if(bC){bg=((bI/(bC+1))-(12/2))*2}else{bg=bI}}bx=bz+(bI/(bw+bC+1)*bw)*bq+(bf?bI-bg:0);bN.top=bE;bN.left=bx;bN.outerWidth=bg;bN.outerHeight=bB-bE;bD+=a3(bJ,bN,bu)}aC[0].innerHTML=bD;bP=aC.children();for(bL=0;bL<bO;bL++){bN=bG[bL];bJ=bN.event;bM=G(bP[bL]);by=ao.trigger("eventRender",bJ,bJ,bM);if(by===false){bM.remove()}else{if(by&&by!==true){bM.remove();bM=G(by).css({position:"absolute",top:bN.top,left:bN.left}).appendTo(aC)}bN.element=bM;if(bJ._id===bH){av(bJ,bM,bN)}else{bM[0]._fci=bL}ao.reportEventElement(bJ,bM)}}ab(aC,bG,av);for(bL=0;bL<bO;bL++){bN=bG[bL];if(bM=bN.element){bQ=bv[bR=bN.key=af(bM[0])];bN.vsides=bQ===l?(bv[bR]=S(bM[0],true)):bQ;bQ=bS[bR];bN.hsides=bQ===l?(bS[bR]=C(bM[0],true)):bQ;bK=bM.find("span.fc-event-title");if(bK.length){bN.titleTop=bK[0].offsetTop}}}for(bL=0;bL<bO;bL++){bN=bG[bL];if(bM=bN.element){bM[0].style.width=bN.outerWidth-bN.hsides+"px";bM[0].style.height=(bF=bN.outerHeight-bN.vsides)+"px";bJ=bN.event;if(bN.titleTop!==l&&bF-bN.titleTop<10){bM.find("span.fc-event-time").text(Q(bJ.start,ao.option("timeFormat"))+" - "+bJ.title);bM.find("span.fc-event-title").remove()}ao.trigger("eventAfterRender",bJ,bJ,bM)}}}function a3(bv,bg,bu){return"<div class='"+bu+bv.className.join(" ")+"' style='position:absolute;z-index:8;top:"+bg.top+"px;left:"+bg.left+"px'><a"+(bv.url?" href='"+O(bv.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+O(u(bv.start,bv.end,ao.option("timeFormat")))+"</span><span class='fc-event-title'>"+O(bv.title)+"</span></a>"+((bv.editable||bv.editable===l&&aW.editable)&&!aW.disableResizing&&G.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}function ba(bv,bu,bg){ao.eventElementHandlers(bv,bu);if(bv.editable||bv.editable===l&&aW.editable){aL(bv,bu,bg.isStart);if(bg.isEnd){ao.resizableDayEvent(bv,bu,aY)}}}function av(bv,bu,bg){ao.eventElementHandlers(bv,bu);if(bv.editable||bv.editable===l&&aW.editable){var bw=bu.find("span.fc-event-time");a5(bv,bu,bw);if(bg.isEnd){bl(bv,bu,bw)}}}function aL(bx,bv,bu){if(!aW.disableDragging&&bv.draggable){var bz;var by=true;var bg;bv.draggable({zIndex:9,opacity:ao.option("dragOpacity","month"),revertDuration:aW.dragRevertDuration,start:function(bA,bB){ao.trigger("eventDragStart",bv,bx,bA,bB);ao.hideEvents(bx,bv);bz=bv.width();aw.start(function(bD,bC,bE,bF){bv.draggable("option","revert",!bD||!bE&&!bF);aZ();if(bD){bg=bF*bq;if(!bD.row){a2(z(W(bx.start),bg),z(Z(bx),bg));bw()}else{if(bu&&by){g(bv.width(aY-10),aP*Math.round((bx.end?((bx.end-bx.start)/ae):aW.defaultEventMinutes)/aW.slotMinutes));bv.draggable("option","grid",[aY,1]);by=false}}}},bA,"drag")},stop:function(bC,bD){var bA=aw.stop();aZ();ao.trigger("eventDragStop",bv,bx,bC,bD);if(bA&&(!by||bg)){bv.find("a").removeAttr("href");var bB=0;if(!by){bB=Math.round((bv.offset().top-ar.offset().top)/aP)*aW.slotMinutes+a6-(bx.start.getHours()*60+bx.start.getMinutes())}ao.eventDrop(this,bx,bg,bB,by,bC,bD)}else{bw();if(G.browser.msie){bv.css("filter","")}ao.showEvents(bx,bv)}}});function bw(){if(!by){bv.width(bz).height("").draggable("option","grid",null);by=true}}}}function a5(bg,bA,bB){if(!aW.disableDragging&&bA.draggable){var bv;var bC=false;var bw;var bz;var bx;bA.draggable({zIndex:9,scroll:false,grid:[aY,aP],axis:ay==1?"y":false,opacity:ao.option("dragOpacity"),revertDuration:aW.dragRevertDuration,start:function(bD,bE){ao.trigger("eventDragStart",bA,bg,bD,bE);ao.hideEvents(bg,bA);if(G.browser.msie){bA.find("span.fc-event-bg").hide()}bv=bA.position();bz=bx=0;aw.start(function(bG,bF,bH,bI){bA.draggable("option","revert",!bG);aZ();if(bG){bw=bI*bq;if(aW.allDaySlot&&!bG.row){if(!bC){bC=true;bB.hide();bA.draggable("option","grid",null)}a2(z(W(bg.start),bw),z(Z(bg),bw))}else{by()}}},bD,"drag")},drag:function(bD,bE){bz=Math.round((bE.position.top-bv.top)/aP)*aW.slotMinutes;if(bz!=bx){if(!bC){bu(bz)}bx=bz}},stop:function(bE,bF){var bD=aw.stop();aZ();ao.trigger("eventDragStop",bA,bg,bE,bF);if(bD&&(bw||bz||bC)){ao.eventDrop(this,bg,bw,bC?0:bz,bC,bE,bF)}else{by();bA.css(bv);bu(0);if(G.browser.msie){bA.css("filter","").find("span.fc-event-bg").css("display","")}ao.showEvents(bg,bA)}}});function bu(bE){var bD=n(W(bg.start),bE);var bF;if(bg.end){bF=n(W(bg.end),bE)}bB.text(u(bD,bF,ao.option("timeFormat")))}function by(){if(bC){bB.css("display","");bA.draggable("option","grid",[aY,aP]);bC=false}}}}function bl(bv,bu,bw){if(!aW.disableResizing&&bu.resizable){var bx,bg;bu.resizable({handles:{s:"div.ui-resizable-s"},grid:aP,start:function(by,bz){bx=bg=0;ao.hideEvents(bv,bu);if(G.browser.msie&&G.browser.version=="6.0"){bu.css("overflow","hidden")}bu.css("z-index",9);ao.trigger("eventResizeStart",this,bv,by,bz)},resize:function(by,bz){bx=Math.round((Math.max(aP,bu.height())-bz.originalSize.height)/aP);if(bx!=bg){bw.text(u(bv.start,(!bx&&!bv.end)?null:n(ao.eventEnd(bv),aW.slotMinutes*bx),ao.option("timeFormat")));bg=bx}},stop:function(by,bz){ao.trigger("eventResizeStop",this,bv,by,bz);if(bx){ao.eventResize(this,bv,0,aW.slotMinutes*bx,by,bz)}else{bu.css("z-index",8);ao.showEvents(bv,bu)}}})}}var bh=new x(function(bC,bA){var by,bv,bu;bo.find("td").each(function(bE,bD){by=G(bD);bv=by.offset().left;if(bE){bu[1]=bv}bu=[bv];bA[bE]=bu});bu[1]=bv+by.outerWidth();if(aW.allDaySlot){by=aJ.find("td");bv=by.offset().top;bC[0]=[bv,bv+by.outerHeight()]}var bw=ar.offset().top;var bB=aU.offset().top;var bg=bB+aU.outerHeight();function bz(bD){return Math.max(bB,Math.min(bg,bD))}for(var bx=0;bx<aR;bx++){bC.push([bz(bw+aP*bx),bz(bw+aP*(bx+1))])}});var aw=new M(bh);function aF(bu,by){bu=W(bu,true);if(by<n(W(bu),a6)){return 0}if(by>=n(W(bu),am)){return ar.height()}var bg=aW.slotMinutes,bx=by.getHours()*60+by.getMinutes()-a6,bw=Math.floor(bx/bg),bv=aH[bw];if(bv===l){bv=aH[bw]=aU.find("tr:eq("+bw+") td div")[0].offsetTop}return Math.max(0,Math.round(bv-1+aP*((bx%bg)/bg)))}var a0=false;var bb=V(ao,aw,bp,aQ,a2,aZ,aA,aE);function at(bu){if(ao.option("selectable")){aE(bu);var bg=this;var bv;aw.start(function(bx,bw){ak();if(bx&&bx.col==bw.col&&!aQ(bx)){var bz=bp(bw);var by=bp(bx);bv=[bz,n(W(bz),aW.slotMinutes),by,n(W(by),aW.slotMinutes)].sort(T);aN(bv[0],bv[3])}else{bv=null}},bu);G(document).one("mouseup",function(bw){aw.stop();if(bv){if(+bv[0]==+bv[1]){ao.trigger("dayClick",bg,bv[0],false,bw)}aA(bv[0],bv[3],false,bw)}})}}ao.select=function(bg,bv,bu){bh.build();aE();if(bu){if(aW.allDaySlot){if(!bv){bv=W(bg)}a2(bg,z(W(bv),1))}}else{if(!bv){bv=n(W(bg),aW.slotMinutes)}aN(bg,bv)}aA(bg,bv,bu)};function aA(bg,bw,bv,bu){a0=true;ao.trigger("select",ao,bg,bw,bv,bu)}function aE(bg){if(a0){ak();a0=false;ao.trigger("unselect",ao,bg)}}ao.unselect=aE;aa(ao,aE);var bi;function aN(bg,bz){var bx=ao.option("selectHelper");if(bx){var bv=D(bg,ao.visStart)*bq+bn;if(bv>=0&&bv<ay){var bw=bh.rect(0,bv,0,bv,ar);var by=aF(bg,bg);var bu=aF(bg,bz);if(bu>by){bw.top=by;bw.height=bu-by;bw.left+=2;bw.width-=5;if(G.isFunction(bx)){var bA=bx(bg,bz);if(bA){bw.position="absolute";bw.zIndex=8;bi=G(bA).css(bw).appendTo(ar)}}else{bi=G(a3({title:"",start:bg,end:bz,className:[],editable:false},bw,"fc-event fc-event-vert fc-corner-top fc-corner-bottom "));if(G.browser.msie){bi.find("span.fc-event-bg").hide()}bi.css("opacity",ao.option("dragOpacity"))}if(bi){be(bi);ar.append(bi);ad(bi,bw.width,true);g(bi,bw.height,true)}}}}else{aB(bg,bz)}}function ak(){aZ();if(bi){bi.remove();bi=null}}function a2(bg,bw){var bv,bu;if(bf){bv=D(bw,ao.visStart)*bq+bn+1;bu=D(bg,ao.visStart)*bq+bn+1}else{bv=D(bg,ao.visStart);bu=D(bw,ao.visStart)}bv=Math.max(0,bv);bu=Math.min(ay,bu);if(bv<bu){ax(aV(0,bv,0,bu-1))}}function aV(bx,bw,bv,bu){var bg=bh.rect(bx,bw,bv,bu,aJ);return ao.renderOverlay(bg,aJ)}function aB(by,bD){var bz=W(ao.visStart);var bu=z(W(bz),1);for(var bw=0;bw<ay;bw++){var bx=new Date(Math.max(bz,by));var bC=new Date(Math.min(bu,bD));if(bx<bC){var bv=bw*bq+bn;var bB=bh.rect(0,bv,0,bv,ar);var bA=aF(bz,bx);var bg=aF(bz,bC);bB.top=bA;bB.height=bg-bA;be(ao.renderOverlay(bB,ar))}z(bz,1);z(bu,1)}}function aZ(){ao.clearOverlays()}ao.dragStart=function(bv,bg,bu){aw.start(function(bw){aZ();if(bw){if(aQ(bw)){aV(bw.row,bw.col,bw.row,bw.col)}else{var by=bp(bw);var bx=n(W(by),aW.defaultEventMinutes);aB(by,bx)}}},bg)};ao.dragStop=function(bw,bu,bv){var bg=aw.stop();aZ();if(bg){ao.trigger("drop",bw,bp(bg),aQ(bg),bu,bv)}};function bs(bg){if(bg.end){return W(bg.end)}else{return n(W(bg.start),aW.defaultEventMinutes)}}function aX(bg){return((bg-Math.max(aT,aO)+ay)%ay)*bq+bn}function bp(bg){var bv=z(W(ao.visStart),bg.col*bq+bn);var bu=bg.row;if(aW.allDaySlot){bu--}if(bu>=0){n(bv,a6+bu*aW.slotMinutes)}return bv}function aQ(bg){return aW.allDaySlot&&!bg.row}}function P(ao){var am,al,ak,aq,ap,an;for(am=ao.length-1;am>0;am--){aq=ao[am];for(al=0;al<aq.length;al++){ap=aq[al];for(ak=0;ak<ao[am-1].length;ak++){an=ao[am-1][ak];if(y(ap,an)){an.forward=Math.max(an.forward||0,(ap.forward||0)+1)}}}}}var k={init:function(al,ak){this.element=al;this.options=ak;this.eventsByID={};this.eventElements=[];this.eventElementsByID={};this.usedOverlays=[];this.unusedOverlays=[]},trigger:function(ak,al){if(this.options[ak]){return this.options[ak].apply(al||this,Array.prototype.slice.call(arguments,2).concat([this]))}},eventEnd:function(ak){return ak.end?W(ak.end):this.defaultEventEnd(ak)},reportEvents:function(an){var am,ak=an.length,ao,al=this.eventsByID={};for(am=0;am<ak;am++){ao=an[am];if(al[ao._id]){al[ao._id].push(ao)}else{al[ao._id]=[ao]}}},reportEventElement:function(al,ak){this.eventElements.push(ak);var am=this.eventElementsByID;if(am[al._id]){am[al._id].push(ak)}else{am[al._id]=[ak]}},_clearEvents:function(){this.eventElements=[];this.eventElementsByID={}},showEvents:function(al,ak){this._eee(al,ak,"show")},hideEvents:function(al,ak){this._eee(al,ak,"hide")},_eee:function(an,am,ap){var ao=this.eventElementsByID[an._id],al,ak=ao.length;for(al=0;al<ak;al++){if(ao[al][0]!=am[0]){ao[al][ap]()}}},eventDrop:function(an,al,am,ao,au,aq,ap){var ar=this,at=al.allDay,ak=al._id;ar.moveEvents(ar.eventsByID[ak],am,ao,au);ar.trigger("eventDrop",an,al,am,ao,au,function(){ar.moveEvents(ar.eventsByID[ak],-am,-ao,at);ar.rerenderEvents()},aq,ap);ar.eventsChanged=true;ar.rerenderEvents(ak)},eventResize:function(ar,ap,am,al,ao,aq){var ak=this,an=ap._id;ak.elongateEvents(ak.eventsByID[an],am,al);ak.trigger("eventResize",ar,ap,am,al,function(){ak.elongateEvents(ak.eventsByID[an],-am,-al);ak.rerenderEvents()},ao,aq);ak.eventsChanged=true;ak.rerenderEvents(an)},moveEvents:function(ao,am,al,ap){al=al||0;for(var aq,ak=ao.length,an=0;an<ak;an++){aq=ao[an];if(ap!==l){aq.allDay=ap}n(z(aq.start,am,true),al);if(aq.end){aq.end=n(z(aq.end,am,true),al)}E(aq,this.options)}},elongateEvents:function(ao,am,al){al=al||0;for(var ap,ak=ao.length,an=0;an<ak;an++){ap=ao[an];ap.end=n(z(this.eventEnd(ap),am,true),al);E(ap,this.options)}},renderOverlay:function(al,ak){var am=this.unusedOverlays.shift();if(!am){am=G("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(am[0].parentNode!=ak[0]){am.appendTo(ak)}this.usedOverlays.push(am.css(al).show());return am},clearOverlays:function(){var ak;while(ak=this.usedOverlays.shift()){this.unusedOverlays.push(ak.hide().unbind())}},resizableDayEvent:function(an,al,am){var ak=this;if(!ak.options.disableResizing&&al.resizable){al.resizable({handles:ak.options.isRTL?{w:"div.ui-resizable-w"}:{e:"div.ui-resizable-e"},grid:am,minWidth:am/2,containment:ak.element.parent().parent(),start:function(ao,ap){al.css("z-index",9);ak.hideEvents(an,al);ak.trigger("eventResizeStart",this,an,ao,ap)},stop:function(ap,aq){ak.trigger("eventResizeStop",this,an,ap,aq);var ao=Math.round((al.width()-aq.originalSize.width)/am);if(ao){ak.eventResize(this,an,ao,0,ap,aq)}else{al.css("z-index",8);ak.showEvents(an,al)}}})}},eventElementHandlers:function(am,al){var ak=this;al.click(function(an){if(!al.hasClass("ui-draggable-dragging")&&!al.hasClass("ui-resizable-resizing")){return ak.trigger("eventClick",this,am,an)}}).hover(function(an){ak.trigger("eventMouseover",this,am,an)},function(an){ak.trigger("eventMouseout",this,am,an)})},option:function(al,am){var ak=this.options[al];if(typeof ak=="object"){return h(ak,am||this.name)}return ak},sliceSegs:function(ax,aq,am,ap){var an=[],ar,au=ax.length,al,av,at,aw,ay,ak,ao;for(ar=0;ar<au;ar++){al=ax[ar];av=al.start;at=aq[ar];if(at>am&&av<ap){if(av<am){aw=W(am);ak=false}else{aw=av;ak=true}if(at>ap){ay=W(ap);ao=false}else{ay=at;ao=true}an.push({event:al,start:aw,end:ay,isStart:ak,isEnd:ao,msLength:ay-aw})}}return an.sort(A)}};function ab(al,ak,am){al.unbind("mouseover").mouseover(function(aq){var ap=aq.target,ar,ao,an;while(ap!=this){ar=ap;ap=ap.parentNode}if((ao=ar._fci)!==l){ar._fci=l;an=ak[ao];am(an.event,an.element,an);G(aq.target).trigger(aq)}aq.stopPropagation()})}function K(am){var aq=[],ap,ak=am.length,al,ao,ar,an;for(ap=0;ap<ak;ap++){al=am[ap];ao=0;while(true){ar=false;if(aq[ao]){for(an=0;an<aq[ao].length;an++){if(y(aq[ao][an],al)){ar=true;break}}}if(ar){ao++}else{break}}if(aq[ao]){aq[ao].push(al)}else{aq[ao]=[al]}}return aq}function A(al,ak){return(ak.msLength-al.msLength)*100+(al.event.start-ak.event.start)}function y(al,ak){return al.end>ak.start&&al.start<ak.end}function V(al,ak,aq,an,ao,ap,ar,am){return function(au){if(al.option("selectable")){am(au);var at=this;var av;ak.start(function(ax,aw){ap();if(ax&&an(ax)){av=[aq(aw),aq(ax)].sort(T);ao(av[0],z(W(av[1]),1),true)}else{av=null}},au);G(document).one("mouseup",function(aw){ak.stop();if(av){if(+av[0]==+av[1]){al.trigger("dayClick",at,av[0],true,aw)}ar(av[0],av[1],true,aw)}})}}}function aa(ak,al){if(ak.option("selectable")&&ak.option("unselectAuto")){G(document).mousedown(function(am){var an=ak.option("unselectCancel");if(an){if(G(am.target).parents(an).length){return}}al(am)})}}var Y=86400000,p=3600000,ae=60000;function ag(al,am,ak){al.setFullYear(al.getFullYear()+am);if(!ak){w(al)}return al}function o(an,ao,am){if(+an){var ak=an.getMonth()+ao,al=W(an);al.setDate(1);al.setMonth(ak);an.setMonth(ak);if(!am){w(an)}while(an.getMonth()!=al.getMonth()){an.setDate(an.getDate()+(an<al?1:-1))}}return an}function z(an,ao,am){if(+an){var ak=an.getDate()+ao,al=W(an);al.setHours(9);al.setDate(ak);an.setDate(ak);if(!am){w(an)}r(an,al)}return an}L.addDays=z;function r(al,ak){if(+al){while(al.getDate()!=ak.getDate()){al.setTime(+al+(al<ak?1:-1)*p)}}}function n(ak,al){ak.setMinutes(ak.getMinutes()+al);return ak}function w(ak){ak.setHours(0);ak.setMinutes(0);ak.setSeconds(0);ak.setMilliseconds(0);return ak}function W(ak,al){if(al){return w(new Date(+ak))}return new Date(+ak)}L.cloneDate=W;function d(){var ak=0,al;do{al=new Date(1970,ak++,1)}while(al.getHours());return al}function ah(ak,al,am){al=al||1;while(!ak.getDay()||(am&&ak.getDay()==1||!am&&ak.getDay()==6)){z(ak,al)}return ak}function D(al,ak){return Math.round((W(al,true)-W(ak,true))/Y)}function i(al,an,ak,am){if(an!==l&&an!=al.getFullYear()){al.setDate(1);al.setMonth(0);al.setFullYear(an)}if(ak!==l&&ak!=al.getMonth()){al.setDate(1);al.setMonth(ak)}if(am!==l){al.setDate(am)}}var f=L.parseDate=function(ak){if(typeof ak=="object"){return ak}if(typeof ak=="number"){return new Date(ak*1000)}if(typeof ak=="string"){if(ak.match(/^\d+$/)){return new Date(parseInt(ak)*1000)}return j(ak,true)||(ak?new Date(ak):null)}return null};var j=L.parseISO8601=function(ao,al){var ak=ao.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);if(!ak){return null}var an=new Date(ak[1],0,1),am=new Date(ak[1],0,1,9,0),ap=0;if(ak[3]){an.setMonth(ak[3]-1);am.setMonth(ak[3]-1)}if(ak[5]){an.setDate(ak[5]);am.setDate(ak[5])}r(an,am);if(ak[7]){an.setHours(ak[7])}if(ak[8]){an.setMinutes(ak[8])}if(ak[10]){an.setSeconds(ak[10])}if(ak[12]){an.setMilliseconds(Number("0."+ak[12])*1000)}r(an,am);if(!al){if(ak[14]){ap=Number(ak[16])*60+Number(ak[17]);ap*=ak[15]=="-"?1:-1}ap-=an.getTimezoneOffset()}return new Date(+an+(ap*60*1000))};var a=L.parseTime=function(am){if(typeof am=="number"){return am*60}if(typeof am=="object"){return am.getHours()*60+am.getMinutes()}var ak=am.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(ak){var al=parseInt(ak[1]);if(ak[3]){al%=12;if(ak[3].toLowerCase().charAt(0)=="p"){al+=12}}return al*60+(ak[2]?parseInt(ak[2]):0)}};var Q=L.formatDate=function(al,am,ak){return u(al,null,am,ak)};var u=L.formatDates=function(ax,aw,av,ay){ay=ay||I;var al=ax,an=aw,ao,ap=av.length,ar,am,au,aq="";for(ao=0;ao<ap;ao++){ar=av.charAt(ao);if(ar=="'"){for(am=ao+1;am<ap;am++){if(av.charAt(am)=="'"){if(al){if(am==ao+1){aq+="'"}else{aq+=av.substring(ao+1,am)}ao=am}break}}}else{if(ar=="("){for(am=ao+1;am<ap;am++){if(av.charAt(am)==")"){var ak=Q(al,av.substring(ao+1,am),ay);if(parseInt(ak.replace(/\D/,""))){aq+=ak}ao=am;break}}}else{if(ar=="["){for(am=ao+1;am<ap;am++){if(av.charAt(am)=="]"){var at=av.substring(ao+1,am);var ak=Q(al,at,ay);if(ak!=Q(an,at,ay)){aq+=ak}ao=am;break}}}else{if(ar=="{"){al=aw;an=ax}else{if(ar=="}"){al=ax;an=aw}else{for(am=ap;am>ao;am--){if(au=s[av.substring(ao,am)]){if(al){aq+=au(al,ay)}ao=am-1;break}}if(am==ao){if(al){aq+=ar}}}}}}}}return aq};var s={s:function(ak){return ak.getSeconds()},ss:function(ak){return X(ak.getSeconds())},m:function(ak){return ak.getMinutes()},mm:function(ak){return X(ak.getMinutes())},h:function(ak){return ak.getHours()%12||12},hh:function(ak){return X(ak.getHours()%12||12)},H:function(ak){return ak.getHours()},HH:function(ak){return X(ak.getHours())},d:function(ak){return ak.getDate()},dd:function(ak){return X(ak.getDate())},ddd:function(al,ak){return ak.dayNamesShort[al.getDay()]},dddd:function(al,ak){return ak.dayNames[al.getDay()]},M:function(ak){return ak.getMonth()+1},MM:function(ak){return X(ak.getMonth()+1)},MMM:function(al,ak){return ak.monthNamesShort[al.getMonth()]},MMMM:function(al,ak){return ak.monthNames[al.getMonth()]},yy:function(ak){return(ak.getFullYear()+"").substring(2)},yyyy:function(ak){return ak.getFullYear()},t:function(ak){return ak.getHours()<12?"a":"p"},tt:function(ak){return ak.getHours()<12?"am":"pm"},T:function(ak){return ak.getHours()<12?"A":"P"},TT:function(ak){return ak.getHours()<12?"AM":"PM"},u:function(ak){return Q(ak,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(al){var ak=al.getDate();if(ak>10&&ak<20){return"th"}return["st","nd","rd"][ak%10-1]||"th"}};function ad(al,am,ak){al.each(function(ao,an){an.style.width=am-C(an,ak)+"px"})}function g(am,ak,al){am.each(function(ao,an){an.style.height=ak-S(an,al)+"px"})}function C(al,ak){return(parseFloat(jQuery.curCSS(al,"paddingLeft",true))||0)+(parseFloat(jQuery.curCSS(al,"paddingRight",true))||0)+(parseFloat(jQuery.curCSS(al,"borderLeftWidth",true))||0)+(parseFloat(jQuery.curCSS(al,"borderRightWidth",true))||0)+(ak?m(al):0)}function m(ak){return(parseFloat(jQuery.curCSS(ak,"marginLeft",true))||0)+(parseFloat(jQuery.curCSS(ak,"marginRight",true))||0)}function S(al,ak){return(parseFloat(jQuery.curCSS(al,"paddingTop",true))||0)+(parseFloat(jQuery.curCSS(al,"paddingBottom",true))||0)+(parseFloat(jQuery.curCSS(al,"borderTopWidth",true))||0)+(parseFloat(jQuery.curCSS(al,"borderBottomWidth",true))||0)+(ak?t(al):0)}function t(ak){return(parseFloat(jQuery.curCSS(ak,"marginTop",true))||0)+(parseFloat(jQuery.curCSS(ak,"marginBottom",true))||0)}function ai(ak,al){al=typeof al=="number"?al+"px":al;ak[0].style.cssText+=";min-height:"+al+";_height:"+al}var B;function aj(al){if(B!==false){var ak;if(al.is("th,td")){al=(ak=al).parent()}if(B===l&&al.is("tr")){B=al.position().top!=al.children().position().top}if(B){return al.parent().position().top+(ak?al.position().top-ak.position().top:0)}}return 0}function x(ak){var al=this;var am;var an;al.build=function(){am=[];an=[];ak(am,an)};al.cell=function(ao,av){var au=am.length;var ap=an.length;var aq,ar=-1,at=-1;for(aq=0;aq<au;aq++){if(av>=am[aq][0]&&av<am[aq][1]){ar=aq;break}}for(aq=0;aq<ap;aq++){if(ao>=an[aq][0]&&ao<an[aq][1]){at=aq;break}}return(ar>=0&&at>=0)?{row:ar,col:at}:null};al.rect=function(ar,au,ap,aq,at){var ao=at.offset();return{top:am[ar][0]-ao.top,left:an[au][0]-ao.left,width:an[aq][1]-an[au][0],height:am[ap][1]-am[ar][0]}}}function M(ap){var an=this;var ao;var aq;var al;var ak;an.start=function(ar,at,au){aq=ar;al=ak=null;ap.build();am(at);ao=au||"mousemove";G(document).bind(ao,am)};function am(ar){var at=ap.cell(ar.pageX,ar.pageY);if(!at!=!ak||at&&(at.row!=ak.row||at.col!=ak.col)){if(at){if(!al){al=at}aq(at,al,at.row-al.row,at.col-al.col)}else{aq(at,al)}ak=at}}an.stop=function(){G(document).unbind(ao,am);return ak}}var ac=["sun","mon","tue","wed","thu","fri","sat"];function X(ak){return(ak<10?"0":"")+ak}function h(ao,ak){if(ao[ak]!==l){return ao[ak]}var an=ak.split(/(?=[A-Z])/),am=an.length-1,al;for(;am>=0;am--){al=ao[an[am].toLowerCase()];if(al!==l){return al}}return ao[""]}function O(ak){return ak.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function N(al){var ak=this,am={},ap={},ao={};function an(aq){return am[aq]=am[aq]||al(aq)}ak.left=function(aq){return ap[aq]=ap[aq]===l?an(aq).position().left:ap[aq]};ak.right=function(aq){return ao[aq]=ao[aq]===l?ak.left(aq)+an(aq).width():ao[aq]};ak.clear=function(){am={};ap={};ao={}}}function af(ak){return ak.id+"/"+ak.className+"/"+ak.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function T(al,ak){return al-ak}function Z(ak){if(ak.end){return q(ak.end,ak.allDay)}else{return z(W(ak.start),1)}}function q(ak,al){ak=W(ak);return al||ak.getHours()||ak.getMinutes()?z(ak,1):w(ak)}function F(ak){ak.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}})(jQuery);
